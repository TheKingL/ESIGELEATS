{% extends "layout.html" %}
{% from "components/fields/field_text.html" import field_text %}
{% from "components/fields/field_password.html" import field_password %}
{% from "components/buttons.html" import button %}
{% block title %}Connexion{% endblock %}
{% block content %}
    <div class="flex min-h-[60vh] items-center justify-center">
        <div class="w-full max-w-md rounded-2xl bg-surface-soft px-6 py-8 shadow-lg dark:bg-surface-dark">
            <div class="mb-6 text-center">
                <div class="mb-3 inline-flex items-center justify-center rounded-full bg-primary-50 px-3 py-1 text-xs font-medium uppercase tracking-wide text-primary-700 dark:bg-primary-700/20 dark:text-primary-100">
                    <i class="fa-solid fa-utensils mr-2 text-xs"></i>
                    Connexion à ESIGELEATS
                </div>
                <h1 class="text-2xl font-display font-semibold text-primary-700 dark:text-primary-100">Heureux de vous revoir</h1>
                <p class="mt-1 text-sm text-ink-soft dark:text-ink-lighter">
                    Connectez-vous pour gérer vos recettes, annotations et favoris.
                </p>
            </div>
            <form method="post" action="{{ url_for('auth.login') }}" class="space-y-4">
                {{ field_text("username",
                                "Nom d'utilisateur",
                                placeholder="Nom d'utilisateur",
                                value=(form.get("username") if form else ""),
                required=True,
                error=(errors.get("username") if errors else None)
                ) }}
                {{ field_password("password",
                                "Mot de passe",
                                placeholder="Mot de passe",
                                required=True,
                                error=(errors.get("password") if errors else None)
                ) }}
                <div class="flex items-center justify-between pt-2">
                    <a href="{{ url_for('auth.register') }}"
                       class="text-xs font-medium text-primary-500 hover:text-primary-700 underline dark:text-primary-300 dark:hover:text-primary-100">
                        Pas de compte ? Inscription
                    </a>
                    {{ button("Se connecter", variant="primary", icon_class="fa-solid fa-right-to-bracket", type="submit") }}
                </div>
            </form>
        </div>
    </div>
{% endblock %}
