{% extends "layout.html" %}
{% block title %}ESIGELEATS · Accueil{% endblock %}
{% block content %}
    {% set current_user = session.get("user") %}
    <div class="dark:from-background-dark dark:via-surface-dark dark:to-background-dark">
        <div class="container max-w-6xl py-10 space-y-12">
            <section class="rounded-3xl border border-primary-100/70 bg-gradient-to-br from-surface-light via-cream to-primary-50/70 p-6 sm:p-8 lg:p-10 shadow-xl dark:border-primary-700/60 dark:bg-gradient-to-br dark:from-surface-dark dark:via-background-dark dark:to-primary-900/30">
                <div class="flex flex-col gap-8 lg:flex-row lg:items-center">
                    <!-- Colonne gauche -->
                    <div class="flex-1 space-y-4">
                        <div class="inline-flex items-center gap-2 rounded-full bg-primary-100/80 px-3 py-1 text-[11px] font-semibold tracking-wide text-primary-800 dark:bg-primary-900/40 dark:text-primary-100">
                            <i class="fa-solid fa-seedling text-[10px]"></i>
                            <span>La cuisine de l’ESIGELEC, par et pour les étudiants</span>
                        </div>
                        <h1 class="text-3xl sm:text-4xl font-display font-semibold text-primary-700 dark:text-primary-50">
                            Partage, découvre et cuisine
                            <span class="text-primary-500 dark:text-primary-300">les meilleures recettes ESIGELEATS</span>
                        </h1>
                        <p class="max-w-xl text-sm sm:text-base text-ink-soft dark:text-ink-lighter">
                            Des plats simples entre coloc, aux recettes qui régalent tout un amphi,
                            ESIGELEATS rassemble les créations culinaires des étudiants, enseignants et amis de l’ESIGELEC.
                        </p>
                        <div class="flex flex-wrap items-center gap-3 pt-2">
                            <a href="{{ url_for('recipes.list_recipes') }}"
                               class="inline-flex items-center rounded-xl bg-primary-500 px-4 py-2.5 text-sm font-semibold text-white shadow-md hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300/80 dark:focus:ring-primary-700/60">
                                <i class="fa-solid fa-book-open mr-2 text-xs"></i>
                                Explorer les recettes
                            </a>
                            {% if current_user %}
                                <a href="{{ url_for('recipes.create_recipe') }}"
                                   class="inline-flex items-center rounded-xl border border-primary-200 bg-surface-light px-4 py-2.5 text-sm font-semibold text-primary-700 shadow-sm hover:border-primary-300 hover:bg-primary-50/80 dark:border-primary-700 dark:bg-surface-dark dark:text-primary-100 dark:hover:bg-primary-900/30 dark:hover:border-primary-500">
                                    <i class="fa-solid fa-utensils mr-2 text-xs"></i>
                                    Proposer une recette
                                </a>
                            {% else %}
                                <a href="{{ url_for('auth.register') }}"
                                   class="inline-flex items-center rounded-xl border border-primary-200 bg-surface-light px-4 py-2.5 text-sm font-semibold text-primary-700 shadow-sm hover:border-primary-300 hover:bg-primary-50/80 dark:border-primary-700 dark:bg-surface-dark dark:text-primary-100 dark:hover:bg-primary-900/30">
                                    <i class="fa-solid fa-user-plus mr-2 text-xs"></i>
                                    Rejoindre ESIGELEATS
                                </a>
                            {% endif %}
                        </div>
                    </div>
                    <!-- Colonne droite -->
                    <div class="flex-1">
                        <div class="mx-auto max-w-sm rounded-3xl border border-primary-100/60 bg-surface-light/95 p-4 shadow-lg backdrop-blur dark:border-primary-700/60 dark:bg-surface-dark/90">
                            <div class="relative mb-4 overflow-hidden rounded-2xl bg-gradient-to-br from-primary-200 via-primary-500 to-primary-700 p-4">
                                <div class="absolute -right-6 -top-6 h-20 w-20 rounded-full bg-primary-200/40 blur-2xl"></div>
                                <div class="absolute -left-8 bottom-0 h-20 w-20 rounded-full bg-cream/30 blur-2xl"></div>
                                <div class="relative flex items-center justify-between gap-4">
                                    <div class="space-y-1">
                                        <p class="text-xs uppercase tracking-wide text-primary-50/90">Recette mise en avant</p>
                                        <p class="text-sm font-semibold text-white">Risotto crémeux façon ESIGELEC</p>
                                        <p class="text-[11px] text-primary-50/90">25 min · 4 personnes</p>
                                    </div>
                                    <div class="flex flex-col items-end gap-1 text-right text-[11px] text-primary-50/90">
                                        <span class="inline-flex items-center gap-1 rounded-full bg-primary-700/70 px-2 py-0.5 font-semibold">
                                            <i class="fa-solid fa-star text-amber-300"></i>
                                            4.8 / 5
                                        </span>
                                        <span class="inline-flex items-center gap-1 rounded-full bg-primary-700/50 px-2 py-0.5">
                                            <i class="fa-solid fa-heart text-rose-300"></i>
                                            99+
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-3 text-xs text-ink-soft dark:text-ink-lighter">
                                <div class="flex items-center justify-between">
                                    <span class="inline-flex items-center gap-2">
                                        <span class="flex h-7 w-7 items-center justify-center rounded-full bg-primary-50 text-primary-700 dark:bg-primary-800/70 dark:text-primary-100">
                                            <i class="fa-solid fa-bowl-food text-[12px]"></i>
                                        </span>
                                        <span class="font-medium text-ink dark:text-ink-inverted">Une cuisine simple & conviviale</span>
                                    </span>
                                </div>
                                <p class="text-[11px] leading-relaxed">
                                    Des recettes pensées pour les cuisines d’étudiants :
                                    peu d’ustensiles, des ingrédients accessibles et beaucoup de goût.
                                </p>
                                <ul class="space-y-1.5">
                                    <li class="flex items-center gap-2">
                                        <span class="h-1.5 w-1.5 rounded-full bg-primary-400"></span>
                                        <span>Filtre par date, popularité, etc.</span>
                                    </li>
                                    <li class="flex items-center gap-2">
                                        <span class="h-1.5 w-1.5 rounded-full bg-primary-400"></span>
                                        <span>Notes, favoris et commentaires pour chaque recette.</span>
                                    </li>
                                    <li class="flex items-center gap-2">
                                        <span class="h-1.5 w-1.5 rounded-full bg-primary-400"></span>
                                        <span>Recettes validées par les administrateurs.</span>
                                    </li>
                                </ul>
                            </div>
                            {% if current_user and current_user.is_admin %}
                                <div class="mt-4 rounded-2xl bg-amber-50 px-3 py-2 text-[11px] text-amber-800 dark:bg-amber-900/30 dark:text-amber-200">
                                    <span class="inline-flex items-center gap-2">
                                        <i class="fa-solid fa-shield-halved text-[11px]"></i>
                                        <span>
                                            Tu es administrateur :
                                            <a href="{{ url_for('admin.dashboard') }}"
                                               class="font-semibold underline underline-offset-2 hover:text-amber-900 dark:hover:text-amber-100">
                                                ouvrir le panel admin
                                            </a>.
                                        </span>
                                    </span>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </section>
            <section class="space-y-4">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between">
                    <div>
                        <h2 class="text-xl font-display font-semibold text-primary-700 dark:text-primary-100">
                            Tu veux faire quoi aujourd’hui ?
                        </h2>
                        <p class="text-sm text-ink-soft dark:text-ink-lighter">Quelques raccourcis pour te mettre en bouche rapidement.</p>
                    </div>
                </div>
                <div class="grid gap-4 md:grid-cols-3">
                    <!-- Découvrir -->
                    <a href="{{ url_for('recipes.list_recipes') }}"
                       class="group flex flex-col justify-between rounded-2xl border border-primary-100 bg-surface-light px-4 py-4 shadow-sm hover:border-primary-300 hover:bg-primary-50/70 dark:border-primary-700/60 dark:bg-surface-dark dark:hover:border-primary-500 dark:hover:bg-primary-900/30">
                        <div class="flex items-center gap-3">
                            <div class="flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-primary-700 dark:bg-primary-800/70 dark:text-primary-50">
                                <i class="fa-solid fa-book-open text-sm"></i>
                            </div>
                            <div>
                                <p class="text-sm font-semibold text-ink dark:text-ink-inverted">Explorer les recettes</p>
                            </div>
                        </div>
                        <div class="mt-3 flex items-center justify-between text-[11px] text-ink-soft dark:text-ink-lighter">
                            <span class="inline-flex items-center gap-1">
                                <i class="fa-solid fa-magnifying-glass text-[10px]"></i>
                                Recherche, tri, filtres…
                            </span>
                            <i class="fa-solid fa-chevron-right text-[10px] text-ink-lighter group-hover:text-primary-600 dark:group-hover:text-primary-200"></i>
                        </div>
                    </a>
                    <!-- Créer / se connecter -->
                    {% if current_user %}
                        <a href="{{ url_for('recipes.create_recipe') }}"
                           class="group flex flex-col justify-between rounded-2xl border border-primary-100 bg-surface-light px-4 py-4 shadow-sm hover:border-primary-300 hover:bg-primary-50/70 dark:border-primary-700/60 dark:bg-surface-dark dark:hover:border-primary-500 dark:hover:bg-primary-900/30">
                            <div class="flex items-center gap-3">
                                <div class="flex h-10 w-10 items-center justify-center rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-200">
                                    <i class="fa-solid fa-utensils text-sm"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-semibold text-ink dark:text-ink-inverted">Partager une recette</p>
                                </div>
                            </div>
                            <div class="mt-3 flex items-center justify-between text-[11px] text-ink-soft dark:text-ink-lighter">
                                <span class="inline-flex items-center gap-1">
                                    <i class="fa-solid fa-star text-amber-400"></i>
                                    Mets l’eau à la bouche aux autres
                                </span>
                                <i class="fa-solid fa-chevron-right text-[10px] text-ink-lighter group-hover:text-emerald-700 dark:group-hover:text-emerald-200"></i>
                            </div>
                        </a>
                    {% else %}
                        <a href="{{ url_for('auth.login') }}"
                           class="group flex flex-col justify-between rounded-2xl border border-primary-100 bg-surface-light px-4 py-4 shadow-sm hover:border-primary-300 hover:bg-primary-50/70 dark:border-primary-700/60 dark:bg-surface-dark dark:hover:border-primary-500 dark:hover:bg-primary-900/30">
                            <div class="flex items-center gap-3">
                                <div class="flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-primary-700 dark:bg-primary-800/70 dark:text-primary-50">
                                    <i class="fa-solid fa-right-to-bracket text-sm"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-semibold text-ink dark:text-ink-inverted">Se connecter / s’inscrire</p>
                                </div>
                            </div>
                            <div class="mt-3 flex items-center justify-between text-[11px] text-ink-soft dark:text-ink-lighter">
                                <span class="inline-flex items-center gap-1">
                                    <i class="fa-solid fa-user text-[10px]"></i>
                                    Accès à toutes les fonctionnalités
                                </span>
                                <i class="fa-solid fa-chevron-right text-[10px] text-ink-lighter group-hover:text-primary-600 dark:group-hover:text-primary-200"></i>
                            </div>
                        </a>
                    {% endif %}
                    <!-- Admin / Top recettes -->
                    {% if current_user and current_user.is_admin %}
                        <a href="{{ url_for('admin.dashboard') }}"
                           class="group flex flex-col justify-between rounded-2xl border border-rose-200/70 bg-rose-50 px-4 py-4 text-rose-900 shadow-sm hover:border-rose-300 hover:bg-rose-100 dark:border-rose-800/70 dark:bg-rose-950/40 dark:text-rose-100 dark:hover:bg-rose-900/40">
                            <div class="flex items-center gap-3">
                                <div class="flex h-10 w-10 items-center justify-center rounded-full bg-rose-600 text-rose-50 dark:bg-rose-700 dark:text-rose-50">
                                    <i class="fa-solid fa-shield-halved text-sm"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-semibold">Panel administrateur</p>
                                </div>
                            </div>
                            <div class="mt-3 flex items-center justify-between text-[11px]">
                                <span class="inline-flex items-center gap-1">
                                    <i class="fa-solid fa-wand-magic-sparkles text-[10px]"></i>
                                    Accès réservé
                                </span>
                                <i class="fa-solid fa-chevron-right text-[10px] text-rose-800 group-hover:text-rose-900 dark:text-rose-200 dark:group-hover:text-rose-100"></i>
                            </div>
                        </a>
                    {% else %}
                        <a href="{{ url_for('recipes.list_recipes') }}"
                           class="group flex flex-col justify-between rounded-2xl border border-primary-100 bg-surface-light px-4 py-4 text-ink-soft shadow-sm hover:border-primary-300 hover:bg-primary-50/70 dark:border-primary-700/60 dark:bg-surface-dark dark:text-ink-lighter dark:hover:border-primary-500 dark:hover:bg-primary-900/30">
                            <div class="flex items-center gap-3">
                                <div class="flex h-10 w-10 items-center justify-center rounded-full bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200">
                                    <i class="fa-solid fa-ranking-star text-sm"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-semibold text-ink dark:text-ink-inverted">Recettes les mieux notées</p>
                                </div>
                            </div>
                            <div class="mt-3 text-[11px] flex items-center justify-between">
                                <span class="inline-flex items-center gap-1">
                                    <i class="fa-solid fa-star text-[10px] text-amber-400"></i>
                                    Triées par note moyenne
                                </span>
                                <i class="fa-solid fa-chevron-right text-[10px] text-ink-lighter group-hover:text-amber-700 dark:group-hover:text-amber-200"></i>
                            </div>
                        </a>
                    {% endif %}
                </div>
            </section>
            <section class="space-y-4 pb-4">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between">
                    <div>
                        <h2 class="text-xl font-display font-semibold text-primary-700 dark:text-primary-100">
                            Pourquoi cuisiner avec ESIGELEATS ?
                        </h2>
                        <p class="text-sm text-ink-soft dark:text-ink-lighter">
                            Une plateforme pensée pour la vie étudiante, les colocs, les semaines de rush et les moments chill.
                        </p>
                    </div>
                </div>
                <div class="grid gap-4 md:grid-cols-3">
                    <div class="rounded-2xl border border-primary-100 bg-surface-light p-4 shadow-sm dark:border-primary-700/60 dark:bg-surface-dark">
                        <div class="mb-2 inline-flex h-8 w-8 items-center justify-center rounded-xl bg-primary-100 text-primary-700 dark:bg-primary-800/70 dark:text-primary-50">
                            <i class="fa-solid fa-graduation-cap text-sm"></i>
                        </div>
                        <h3 class="text-sm font-semibold text-ink dark:text-ink-inverted">Pensé pour les étudiants</h3>
                        <p class="mt-1 text-xs text-ink-soft dark:text-ink-lighter">
                            Des recettes adaptées aux petites cuisines, aux budgets serrés et aux emplois du temps chargés.
                        </p>
                    </div>
                    <div class="rounded-2xl border border-primary-100 bg-surface-light p-4 shadow-sm dark:border-primary-700/60 dark:bg-surface-dark">
                        <div class="mb-2 inline-flex h-8 w-8 items-center justify-center rounded-xl bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-200">
                            <i class="fa-solid fa-heart text-sm"></i>
                        </div>
                        <h3 class="text-sm font-semibold text-ink dark:text-ink-inverted">Par la commu, pour la commu</h3>
                        <p class="mt-1 text-xs text-ink-soft dark:text-ink-lighter">
                            Chaque recette est proposée par un membre de l’école et validée par un admin pour garantir un minimum de qualité.
                        </p>
                    </div>
                    <div class="rounded-2xl border border-primary-100 bg-surface-light p-4 shadow-sm dark:border-primary-700/60 dark:bg-surface-dark">
                        <div class="mb-2 inline-flex h-8 w-8 items-center justify-center rounded-xl bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200">
                            <i class="fa-solid fa-star text-sm"></i>
                        </div>
                        <h3 class="text-sm font-semibold text-ink dark:text-ink-inverted">Notations & favoris</h3>
                        <p class="mt-1 text-xs text-ink-soft dark:text-ink-lighter">
                            Tu peux noter, mettre en favoris et retrouver facilement les recettes qui ont fait l’unanimité.
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>
{% endblock %}
